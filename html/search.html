<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Species Search - Endangered Species Database</title>
<link rel="stylesheet" type="text/css" href="esd_styles.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/pure-min.css" integrity="sha384-oAOxQR6DkCoMliIh8yFnu25d7Eq/PHS21PClpwjOTeU2jRSq11vu66rf90/cZr47" crossorigin="anonymous">
</head>

<body>


<!-- header -->
<div class="logo">
	<a href="index.html"><img src="esd-logo-03.png" alt="ESD"></a>
</div>

<div class="menu" id="menu">
	<a class="icon" href="javascript:void(0);" onclick="showMenu()"><img src="fa-bars.png" alt="MENU" width="22px" id="icon"></a>
	<a class="login" href="contact.html">Contact</a>
	<a class="login" href="login.html">Login</a>
	<a href="danger.html">Dangers Affecting Species</a>
	<a href="nonprofit.html">Nonprofits</a>
	<a href="search.html" class="active">Species Search</a>
</div>

<main>

	<p>Search our database of plants and animals that are threatened and endangered. Use the buttons below to search within a category or subcategory, or search the entire database. You can also search <a href="nonprofits.html" class="lineLink">Nonprofits</a> or <a href="danger.html" class="lineLink">Dangers Affecting Species</a> separately on those pages.</p>

	<h1>Search Species by Category:</h1>
	<p style="text-align: center;">Please select a category to search by:</p>
	<span style="display:block; height: 30px;"></span>

		<form class="category" method="post" action = "searchBy.php">
			<input type="radio" id="all" name="category" value ="all" checked="checked"/>
			<label for="all">Search All</label>
			
			<input type="radio" id="animals" value="animals" name="category"/>
			<label for="animals">Animals</label>

			<input type="radio" id="plants" value="plants" name="category"/>
			<label for="plants">Plants</label>
			<br>
			
		<div class="drop">
			<select id="region">
				<option value="all">Search All Regions</option>
				<option value="africa">Africa</option>
				<option value="asia">Asia</option>
				<option value="caribbean">Caribbean</option>
				<option value="central">Central America</option>
				<option value="north">North America</option>
				<option value="south">South America</option>
				<option value="europe">Europe</option>
				<option value="oceans">Oceans</option>
				<option value="waters">Other Waterways</option>
			</select>
			
			<select id="biome">
				<option value="alpine">Alpine</option>
				<option value="chaparral">Chaparral</option>
				<option value="desert">Desert</option>
				<option value="rainforest">Rainforest</option>
				<option value="savanna">Savanna</option>
				<option value="taiga">Taiga</option>
				<option value="temp_forest">Temperate Forest</option>
				<option value="temp_grass">Temperate Grassland</option>
				<option value="tundra">Tundra</option>
				<option value="coral">Coral Reef</option>
				<option value="fresh">Fresh Water</option>
				<option value="salt">Salt Water</option>
			</select>
				
			<select id="population">
				<option value="all">Search All Populations</option>
				<option value="100">Less than 100</option>
				<option value="1_thou">Less than 1,000</option>
				<option value="10_thou">Less than 10,000</option>
				<option value="100_thou">Less than 100,000</option>
				<option value="1_mil">Less than 1,000,000</option>
			</select>
			
			<select id="dangers">
				<option value="all">Search All Dangers</option>
				<option value="climate">Climate Change</option>
				<option value="deforest">Deforestation</option>
				<option value="disease">Disease</option>
				<option value="habitat">Habitat Loss</option>
				<option value="invasive">Invasive Species</option>
				<option value="exploitation">Over Exploitation</option>
				<option value="pollution">Pollution</option>
			</select>
		</div>
		</form>
		
		<br>
		<br>
			
			<div class="searchBar">
				<input type="text" placeholder="Enter a search term here" size="30px" id="key1" name="searchVal">
				<input type="button" name="submitSearch" id="submitSearch" value="Search" onclick ="ajaxSearch(key1.value)">
			
				<select id="sort">
					<option value="name_a">Sort by Name A-Z</option>
					<option value="name_z">Sort by Name Z-A</option>
					<option value="pop_1">Sort by Population (few to many)</option>
					<option value="pop_2">Sort by Population (many to few)</option>
					<option value="region">Sort by Region Name</option>
				</select>
			</div>
			
			<br>
			<br>
			<br>
	<div class="result">
		<img src="placeholder.jpg" alt="image" width="20%">
		<h3 id="result_name">Regular Name</h3> <h4 id="result_sname"> Scientific Name</h4>
		<p id="result_pop">Population</p>
		<hr>
		<p id="result_danger">This species affected mostly by: Danger</p>
		<p id="result_region">Region: Region</p>
		<p id="result_npo">Possible Nonprofit Help: Nonprofits list</p>
	</div>
	
	<div class="result">
		<img src="placeholder.jpg" alt="image" width="20%">
		<h3 id="result_name">Regular Name</h3> <h4 id="result_sname"> Scientific Name</h4>
		<p id="result_pop">Population</p>
		<hr>
		<p id="result_danger">This species affected mostly by: Danger</p>
		<p id="result_region">Region: Region</p>
		<p id="result_npo">Possible Nonprofit Help: Nonprofits list</p>
	</div>
			


	<div id="dummy">
	</div>

</main>

<!-- footer -->
<div class="footer">
	<div class="center">
		<a href="search.html">Species&nbsp;Search</a>
		<a href="nonprofits.html">Nonprofits</a>
		<a href="danger.html">Dangers&nbsp;Affecting&nbsp;Species</a>
	<br>
	<hr>
	<br>

		<a href="contact.html">Contact</a>
		<a href="login.html">Login</a>
		<a href="index.php">Home</a>
		<h4>Endangered Species Database &copy; 2019</h4>
	</div>
</div>

<script>
//function to create responsive and collapsible menu
		function showMenu() {
  			var x = document.getElementById("menu");
  			if (x.className === "menu") {
    			x.className = "responsive";
  			} else {
    			x.className = "menu";
  			}

			var y = document.getElementById("icon");
			if (y.src == "fa-bars.png"){
				y.src = "fa-exit.png";
			}
			else { y.src = "fa-bars.png"; }
		}


		function ajaxSearch(str){
			var searchTxt = document.getElementById("key1");
			var all = document.getElementById("all");
			var animals = document.getElementById("animals");
			var plants = document.getElementById("plants");
			var region = document.getElementById("region");
			var population = document.getElementById("population");
			var dangers = document.getElementById("dangers");
			if(all.checked)
			{
				entry = 1;
			}
			else if(animals.checked)
			{
				entry = "animals";
			}
			else if(plants.checked)
			{
				entry = "plants";
			}
			else if(region.checked)
			{
				entry = "region";
			}
			else if(population.checked)
			{
				entry = "population";
			}
			else
			{
				entry = "dangers";
			}
			if(window.XMLHttpRequest)
			{
				xmlhttp = new XMLHttpRequest();
			}
			else
			{
				xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
			}
			xmlhttp.onreadystatechange = function()
			{
				if(this.readyState==4 && this.status ==200)
				{
					document.getElementById("dummy").innerHTML = this.responseText;
				}
			}
			xmlhttp.open('POST','searchBy.php?q='+entry+" "+str, true);
			xmlhttp.send();
		}


</script>

</body>
</html>
